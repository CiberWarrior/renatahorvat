---
import DefaultLayout from "../../layouts/DefaultLayout.astro";
import Navbar from "../../components/Navbar.astro";
import Footer from "../../components/Footer.astro";
import { projects } from "../../lib/projects";

export function getStaticPaths() {
  return projects.map((project) => ({
    params: { slug: project.href.split('/').pop() },
    props: { project },
  }));
}

const { project } = Astro.props;
const meta = { title: "Case Study — " + project.title, description: "Goals, process, result, and tech." };
---
<DefaultLayout {...meta}>
  <Fragment slot="nav"><Navbar /></Fragment>
  <article class="prose max-w-none py-16">
    <h1 class="!mb-2">{project.title}</h1>
    <p class="text-gray-600">{project.summary}</p>
    <h2>Process</h2>
    <ol><li>Discovery</li><li>Design system</li><li>Build & ship</li></ol>
    <h2>Result</h2>
    <ul><li>+X% faster load</li><li>Better Core Web Vitals</li></ul>
    <h2>Tech</h2>
    <p>Astro, Tailwind, Vercel, Cursor, Resend.</p>
    <p><a href="/work" class="underline">← Back to work</a></p>
  </article>
  <Fragment slot="footer"><Footer /></Fragment>
</DefaultLayout>
